extends ../layout

include ../includes/_paginate

block content
  .container
    .row
      .main
        a.main-title(href='/questions/adminpage') 관리자 페이지

    if questions.total <= 0 
      .alert.alert-info 등록된 질문이 없습니다.
      hr
    else
      .container
        table.table.table-hover(style="margin-top:30px")
          thead
            tr.table-head
              th(style='text-align:center') 번호
              th(style='text-align:center') 전산담당자
              th.table-title(style='width: 516px; text-align:center') 제목
              th 댓글
              th 법인
              th 요청자
              th(style='text-align:center') 날짜
              th(style='text-align:center') 조회수
              th 처리상태
              tbody
                each question, index in questions.docs
                  tr
                    td(style='text-align:center')=index+1
                    td(style='text-align:center')=question.manager.name

                    td(style='display: inline-block; width: 500px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap')
                      a(href=`/questions/${question.id}` )=question.title + " "  
                    td
                      span.badge.badge-pill.badge-warning=" + "+question.numAnswers
                      if question.selectoption==100
                        td AMT
                      if question.selectoption==101
                        td AMG
                      if question.selectoption==102
                        td AMS
                      if question.selectoption==103
                        td AML
                      if question.selectoption==104
                        td 기타
                    td=question.author.name
                    td(style='text-align:center')=moment(question.createdAt).format('YYYY-MM-DD')
                    td(style='text-align:center')=question.numReads
                    td
                      if question.status == 0
                        span.label.label-warning 처리중
                      else
                        span.label.label-success 처리완료
      div#pagination
        +paginate(questions, '/questions/adminpage/', query)
    
